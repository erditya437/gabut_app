<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Work Tycoon</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #e9ecef;
            color: #343a40;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            position: relative;
            padding-top: 10px;
        }

        .container {
            width: 90%;
            max-width: 900px;
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin: 100px auto 0px;
            box-sizing: border-box;
          
        }

        .back-arrow {
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 2em;
            color: #495057;
            text-decoration: none;
            z-index: 2000;
       }

       
        .money-sticky-wrapper {
            position: sticky;
            top: 0;
            width: 100%;
            padding: 10px 0;
            z-index: 10;
            transition: background 0.3s ease;
            text-align: center; /* Tambahkan ini agar display uang di tengah */
        }

        /* Biarkan header utama tetap di tempatnya */
        .header-main {
            text-align: center;
            margin-bottom: 0px;
        }

        .header {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            justify-content: center;
            width: 100%;
            max-width: 900px;
            margin: 0 auto;
            padding: 0 20px;
            box-sizing: border-box;
        }

        h1 {
            color: #0080ff;
            font-size: 25px;
            margin: 0;
        }

        .money-display {
            font-size: 1.5em;
            font-weight: bold;
            color: #26a418;
            margin: 15px 0;
            padding: 10px 15px;
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.306);
            text-align: center;
           
        }
        
        .main-buttons {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
            position: relative;
        }

        .work-btn {
            width: 100%;
            padding: 12px;
            font-size: 1em;
            font-weight: bold;
            color: #fff;
            background-color: #44e409;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.2s ease, transform 0.1s ease;
        }
        
        .work-btn:hover {
            background-color: #5bd423;
            transform: translateY(-2px);
            transform: none;
        }

        .work-btn:active {
         transform: none;
        }

        #money-effect-container {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none; /* Penting agar tidak menghalangi klik pada tombol di bawahnya */
            overflow: hidden;
        }

        .money-particle {
            position: absolute;
            color: #ffdd00; /* Warna emas untuk representasi uang */
            font-size: 1.5em;
            font-weight: bold;
            opacity: 0;
            animation: fadeOutUp 1s forwards; /* Animasi custom yang akan dibuat */
        }

        @keyframes fadeOutUp {
            0% {
                opacity: 1;
                transform: translateY(0);
            }
            100% {
                opacity: 0;
                transform: translateY(-50px) rotate(30deg) scale(0.8);
            }
        }

        
        .secondary-buttons {
            display: flex;
            justify-content: space-between;
            gap: 10px;
            width: 100%;
        }

        .secondary-buttons button {
            flex: 1;
            padding: 10px;
            font-size: 0.9em;
            font-weight: bold;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            transition: transform 0.1s ease;
        }

        .secondary-buttons button:hover {
            transform: translateY(-2px);
        }

        .upgrade-btn {
            background-color: #ffea08;
            color: #636363;
        }

        .assets-btn {
            background-color: #28bd0a;
            color: #fff;
        }

        .item-list {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 25px;
            justify-content: center;
        }

        .item-card {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            width: calc(50% - 10px); 
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            text-align: left;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            box-sizing: border-box;
            opacity: 1;
            transition: opacity 0.5s ease;
        }
        
        .item-card.purchased {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .item-card h3 {
            margin: 0 0 8px;
            color: #495057;
            font-size: 1.1em;
        }

        .item-card p {
            margin: 0 0 10px;
            font-size: 0.85em;
            color: #6c757d;
            line-height: 1.4;
        }

        .item-card .price {
            font-size: 1.1em;
            font-weight: bold;
            color: #007bff;
            margin: 10px 0;
        }

        .buy-btn {
            width: 100%;
            padding: 8px;
            font-size: 0.9em;
            color: #fff;
            background-color: #38b316;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }
        
        .buy-btn:disabled {
            background-color: #54c823;
            cursor: not-allowed;
        }

        .buy-btn:hover {
            background-color: #0d9a0d;
        }

        /* Footer Buttons */
        .footer-buttons {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            display: flex;
            justify-content: center;
            background-color: #343a4000;
            padding: 15px 20px;
            
            box-sizing: border-box;
            z-index: 1000;
        }
        
        .footer-buttons .reset-btn {
            padding: 12px 25px;
            font-size: 1em;
            font-weight: bold;
            color: #fff;
            background-color: #dc3545;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s ease, transform 0.1s ease;
        }

        .footer-buttons .reset-btn:hover {
            background-color: #c82333;
            transform: translateY(-2px);
        }

        /* Pop-up Modals */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.6);
            padding-top: 60px;
        }

        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            width: 90%;
            max-width: 500px;
            position: relative;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #dee2e6;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        .modal-header h2 {
            margin: 0;
            font-size: 1.5em;
            color: #343a40;
        }

        .close-btn {
            color: #aaa;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close-btn:hover,
        .close-btn:focus {
            color: black;
            text-decoration: none;
        }

        .modal-body {
            max-height: 300px; /* Atur tinggi agar bisa di-scroll */
            overflow-y: auto;
        }

        .upgrade-list {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }

        .upgrade-item {
            padding: 15px;
            border-bottom: 1px solid #d5d5d5;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .upgrade-item:last-child {
            border-bottom: none;
        }

        .upgrade-info h4 {
            margin: 0;
            font-size: 1.1em;
            color: #007bff;
        }
        
        .upgrade-info p {
            margin: 5px 0 0;
            font-size: 0.9em;
            color: #6c757d;
        }

        .upgrade-buy-btn {
            padding: 8px 15px;
            font-size: 0.9em;
            color: #fff;
            background-color: #28a745;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .upgrade-buy-btn:disabled {
            background-color: #6c757d;
            cursor: not-allowed;
        }
        
        .upgrade-buy-btn:hover {
            background-color: #218838;
        }
        
        .custom-alert {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(0, 0, 0, 0.7);
            width: 100%;
            height: 100%;
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }

        .alert-content {
            background-color: #fff;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            max-width: 80%;
        }

        .alert-content h2 {
            margin-top: 0;
            color: #28a745;
        }

        .alert-content p {
            margin: 10px 0 20px;
            color: #555;
        }

        .alert-content button {
            padding: 10px 20px;
            font-size: 1em;
            font-weight: bold;
            background-color: #007bff;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .item-image {
        width: 100px;
        height: 100px;
        display: block;
        margin: 0 auto 10px;
        object-fit: cover;
        border-radius: 8px;
        margin-bottom: 10px;
      }

        /* Media query untuk tampilan mobile */
        @media (max-width: 767px) {
            .container {
                padding: 15px;
                margin-top: 80px;
                margin-bottom: 70px;
            }

            .modal-content {
            max-width: 100%; /* Mengambil 95% lebar layar */
            margin: 30% auto; /* Jarak atas dan bawah */
          }

         .upgrade-info h4 {
            font-size: 12px;
        }
        
        .upgrade-info p {
           font-size: 10px;
        }

        .upgrade-buy-btn {
            padding: 8px 12px;
            font-size: 12px;
        }

            .item-card {
                width: calc(50% - 10px);
            }
            .item-card h3 {
                font-size: 0.9em;
            }
            .item-card p {
                font-size: 0.75em;
            }
            .item-card .price {
                font-size: 10px;
            }
            .buy-btn {
                font-size: 0.8em;
            }
            .footer-buttons .reset-btn {
                font-size: 0.9em;
                padding: 10px 20px;
            }
            
        }
        
        /* Media query untuk tampilan desktop */
        @media (min-width: 768px) {
            .item-card {
                width: calc(33.333% - 10px); 
            }
        }
    </style>
</head>
<body>

<a href="index.html" class="back-arrow">‚Üê</a>

<div class="container">
    <div class="header-main">
    <h1>Work Tycoon</h1>
    <p>Seberapa gabut kamu?</p>
    <p>Kamu disuruh mengumpulkan uang sebanyak mungkin untuk membeli semua barang yang tersedia!.dengan cara mengklik tombol kerja sebanyak mungkin</p>

<div class="money-sticky-wrapper">
    <div class="money-display">
         <span id="money-amount">Rp 0</span>
    </div>
</div>
    <div class="main-buttons">
        <div id="money-effect-container"></div>
        <button id="work-btn" class="work-btn">Kerja (+Rp 100)</button>
        
        <div class="secondary-buttons">
            <button id="upgrade-btn" class="upgrade-btn">Upgrade üõ†Ô∏è</button>
            <button id="assets-btn" class="assets-btn">Aset üè†</button>
        </div>
    </div>

    <div class="item-list" id="item-list"></div>
</div>

<div class="footer-buttons">
    <button id="reset-btn" class="reset-btn">Ulangi Permainan</button>
</div>

<div id="upgrade-modal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>Upgrade Penghasilan</h2>
            <span class="close-btn">&times;</span>
        </div>
        <div class="modal-body">
            <ul id="upgrade-list" class="upgrade-list">
                </ul>
        </div>
    </div>
</div>

<div id="custom-alert" class="custom-alert">
    <div class="alert-content">
        <h2 id="alert-title"></h2>
        <p id="alert-message"></p>
        <button id="alert-ok-btn">OK</button>
    </div>
</div>

<script>
    let playerMoney = 0; // Mulai dengan Rp 0 agar lebih terasa tantangannya
    let workIncome = 100;
    let purchasedItems = [];
    let purchasedUpgrades = [];

    const items = [
    { id: 1, name: "Ponsel Jadul", description: "Ponsel lama yang hanya bisa menelepon dan SMS.", price: 400000, image: "https://tse2.mm.bing.net/th/id/OIP.b4yQwqdSQxNWTwUwfOYoSAHaEL?pid=Api&h=220&P=0" },
    { id: 2, name: "Sepatu Olahraga", description: "Sepatu nyaman untuk lari pagi.", price: 75000, image: "https://1.bp.blogspot.com/-tqmRM8lN5js/V3iHjBNxa7I/AAAAAAAAKAw/nVbhCRkKKWYdpsy9FdW-VUUnkT8dQae8QCLcB/s1600/sepatu-mizuno-1.jpg" },
    { id: 3, name: "Jam Tangan Pintar", description: "Jam tangan dengan fitur notifikasi dan kesehatan.", price: 50000, image: "https://www.static-src.com/wcsstore/Indraprastha/images/catalog/full/MTA-3565701/yangunik_yangunik-jam-tangan-pintar-smartwatch-v8-smart-watch-sim-gsm-bluetooth_full25.jpg" },
    { id: 4, name: "Kamera", description: "Kamera untuk mengabadikan momen.", price: 5000000, image: "https://teknorus.com/wp-content/uploads/2016/10/Kamera-DSLR-Terbaik-Harga-10-Jutaan-2.jpg" },
    { id: 5, name: "Headphone", description: "handphone canggih kekinian", price: 2500000, image: "https://cdn.movertix.com/media/catalog/product/cache/image/1200x/r/e/redmi-note-13-pro-dual-sim-lavender-purple-512gb-and-12gb-ram.jpg" },
    { id: 6, name: "Speaker Bluetooth", description: "Dengarkan musik favorit dengan suara jernih.", price: 500000, image: "https://m.media-amazon.com/images/I/71L9o0-0SML._AC_.jpg" },
    { id: 7, name: "Tablet", description: "Tablet untuk browsing dan menonton video.", price: 7000000, image: "https://tse4.mm.bing.net/th/id/OIP.7wddq2ADS2nkZtm5ZKqi1wHaHa?pid=Api&h=220&P=0" },
    { id: 8, name: "Sepeda Lipat", description: "Sepeda yang praktis dan mudah dibawa.", price: 3000000, image: "https://www.sepeda.me/wp-content/uploads/2020/04/Sepeda-Lipat-Brompton-termurah-B75.jpg" },
    { id: 9, name: "Drone Mini", description: "Drone kecil untuk hobi fotografi.", price: 750000, image: "https://m.media-amazon.com/images/I/61Y1P6uIRFL._AC_SL1500_.jpg" },
    { id: 10, name: "Laptop Gaming", description: "Laptop bertenaga tinggi untuk bermain game dan desain.", price: 30000000, image: "https://cdn.mos.cms.futurecdn.net/82o33XokGFCnWVW5orRSf3.jpg" },
    { id: 11, name: "Mobil sedan", description: "kelilingi kota dengan santai.", price: 350000000, image: "https://tse2.mm.bing.net/th/id/OIP.ri9xYdgAiwLm28bHkY535wHaEK?pid=Api&h=220&P=0" },
    { id: 12, name: "Motor Sport", description: "kelilingi kota dengan santai.", price: 200000000, image: "https://tse2.mm.bing.net/th/id/OIP.OeWP846UA5jWm0IF8_wGCAHaFD?pid=Api&h=220&P=0" },
    { id: 13, name: "Rumah", description: "Tinggal di rumah minimalis", price: 800000000, image: "https://cekruang.com/wp-content/uploads/2019/08/model-rumah-minimalis-terbaru-atap-miring-2-lantai-kondominium-1.jpg" },
    { id: 14, name: "Mobil Sport", description: "Kelilingi kota dengan gaya", price: 1500000000, image: "https://images.hindustantimes.com/auto/img/2023/07/22/1600x900/gallardo_1690006782710_1690006790222.jpg" },
    { id: 15, name: "Ferrari Laferrari", description: "Kelilingi kota dengan gaya", price: 8200000000, image: "https://radarseluma.disway.id/upload/f6e3e2d46b9c7356e91feabc37fd6913.jpg" },
    { id: 16, name: "Sewa Pulau", description: "Bersantai di pulau termahal", price: 7000000000, image: "https://www.finansialku.com/wp-content/uploads/2019/03/Pulau-Termahal-Di-Dunia-06-Pulau-Bora-Bora-Finansialku.jpg" },
    { id: 16, name: "Beli 1 Klub", description: "nikmati klub terbaik", price: 1000000000000, image: "https://terkenal.co.id/wp-content/uploads/2023/06/DSC_9345-HDR-scaled.jpg" },
    { id: 17, name: "Rumah mewah", description: "Tinggal di rumah mewah", price: 5000000000, image: "https://www.emporioarchitect.com/img/gallery/desain-rumah-style-villa-bali-modern-yang-mewah-dan-unik-di-jakarta-03031710310847689782-11.jpg" },
    { id: 18, name: "Tiket liburan ke luar angkasa", description: "Tinggal di rumah mewah", price: 100000000000, image: "https://images2.alphacoders.com/644/644457.jpg" },
    { id: 19, name: "Beli LƒÅna ªi Island", description: "Tinggal di pulau yang mewah", price: 15000000000000, image: "https://tse4.mm.bing.net/th/id/OIP.pAOkaM4VRPdfzKhPIR6NtQHaFR?pid=Api&h=220&P=0" },
    { id: 20, name: "Beli Klub Real Madrid", description: "Bukti bahwa anda benar benar kaya", price: 100000000000000, image: "https://tse1.mm.bing.net/th/id/OIP.JYcosXMXEvwlAn-MoBbLqwHaD0?pid=Api&h=220&P=0" },
    { id: 21, name: "Beli Klub Fc Barcelona", description: "Bukti bahwa anda benar benar kaya", price: 86000000000000, image: "https://tse2.mm.bing.net/th/id/OIP.dqAOiC3S5oV9GRrs6HxJqgHaEo?pid=Api&h=220&P=0" },
    { id: 22, name: "Rumah super mewah", description: "Tinggal di rumah super mewah!", price: 3000000000000, image: "https://i.pinimg.com/550x/a0/21/47/a021475e6fad1ff049acecf5e6cd8362.jpg" },
    { id: 23, name: "Rolls-Royce Droptail", description: "Keliling kota dengan mobil super mewah", price: 400000000000, image: "https://sp.yimg.com/ib/th/id/OIP.PmkOvDP-_9wQCKRlIUIhVgHaE8?pid=Api&w=148&h=148&c=7&dpr=2&rs=1" },
    { id: 24, name: "Pagani Huayra BC", description: "Keliling kota dengan mobil super mewah", price: 35000000000000, image: "https://www.thesupercarblog.com/wp-content/uploads/2022/06/Huayra-BC-Tempesta-1.jpg" },
    { id: 25, name: "Beli burj khalifa", description: "Bersantai di gedung pencakar langit", price: 300000000000000, image: "https://cdn1.matadornetwork.com/blogs/1/2023/04/Burj-Khalifa-Dubai.jpg" },
    { id: 26, name: "Beli abraj al-bait", description: "kamu benar benar super kaya", price: 500000000000000, image: "https://tse4.mm.bing.net/th/id/OIP.1GA3ljq8W9Gk2ACGIgahgQHaGd?pid=Api&h=220&P=0" },
    { id: 27, name: "Beli Sofi Stadion", description: "kamu benar benar super kaya", price: 90000000000000, image: "https://tse1.mm.bing.net/th/id/OIP.U9PwzLL-g2A5m2kF70wRYQHaFj?pid=Api&h=220&P=0" },
    { id: 28, name: "Beli Icon Of The Seas", description: "Jelajahi lautan dengan kapal super mewah", price: 50000000000000, image: "https://thepointsguy.global.ssl.fastly.net/uk/originals/2022/11/20221019_ICON-OF-THE-SEAS-Renderings_Royal-Caribbean_12.jpg" },
    { id: 29, name: "Beli Teleskop Hubble", description: "untuk Mengamati luar angkasa dengan", price: 145000000000000, image: "https://tse1.mm.bing.net/th/id/OIP.eZMhYXJsvecOyGBTKvoM4gHaFd?pid=Api&h=220&P=0" },
];

    const upgrades = [
        { id: 1, name: "Makan Siang Enak", description: "Energi bertambah, penghasilan kerja naik 50.", price: 5000, incomeBoost: 50 },
        { id: 2, name: "Kelas Coding Online", description: "Keahlian bertambah, penghasilan kerja naik 100.", price: 10000, incomeBoost: 100 },
        { id: 3, name: "Kopi Premium", description: "Fokus meningkat, penghasilan kerja naik 200.", price: 25000, incomeBoost: 200 },
        { id: 4, name: "Buku Motivasi", description: "Semangat kerja naik, penghasilan kerja naik 500.", price: 50000, incomeBoost: 500 },
        { id: 5, name: "Lisensi Profesional", description: "Gaji naik signifikan, penghasilan kerja naik 1000.", price: 100000, incomeBoost: 1000 },
        { id: 6, name: "Kursus Bahasa Asing", description: "Mendapat pekerjaan sampingan, penghasilan kerja naik 2000.", price: 200000, incomeBoost: 2000 },
        { id: 7, name: "Pelatihan Wirausaha", description: "Mulai bisnis kecil, penghasilan kerja naik 5000.", price: 500000, incomeBoost: 5000 },
        { id: 8, name: "Tidur Siang Berkualitas", description: "Kesehatan membaik, penghasilan kerja naik 10000.", price: 1000000, incomeBoost: 10000 },
        { id: 9, name: "Magang di Perusahaan Besar", description: "Naik jabatan, penghasilan kerja naik 200000.", price: 2000000, incomeBoost: 150000 },
        { id: 10, name: "Networking dengan CEO", description: "Investor tertarik, penghasilan kerja naik 300000.", price: 5000000, incomeBoost: 300000 },
        { id: 11, name: "YouTuber Terkenal", description: "Menjadi Youtuber Terkenal, penghasilan kerja naik 1000000.", price: 30000000, incomeBoost: 1000000 },
        { id: 12, name: "Nelayan Kepiting alaska", description: "Menjadi Nelayan kepiting alaska, penghasilan kerja naik 5000000.", price: 100000000, incomeBoost: 5000000 },
        { id: 13, name: "Penyelam industri minyak", description: "Menjadi penyelam industri minyak, penghasilan kerja naik 50000000.", price: 10000000000, incomeBoost: 50000000 },
        { id: 14, name: "Penjinak Bom", description: "Menjadi Penjinak Bom, penghasilan kerja naik 500000000.", price: 50000000000, incomeBoost: 500000000 },
        { id: 15, name: "Teknisi Nuklir", description: "Menjadi Teknisi nuklir, penghasilan kerja naik 15000000.", price: 1500000000, incomeBoost: 15000000 },
        { id: 16, name: "Dokter Bedah", description: "Menjadi dokter bedah, penghasilan kerja naik 12 M.", price: 100000000000, incomeBoost: 12000000000 },
        { id: 17, name: "Dokter Kardiolog", description: "Menjadi dokter kardiolog, penghasilan kerja naik 5 M.", price: 85000000000, incomeBoost: 5000000000 },
        { id: 18, name: "Pilot Pesawat Terbang", description: "Menjadi Pilot, penghasilan kerja naik 8 M.", price: 90000000000, incomeBoost: 8000000000 },
        { id: 19, name: "Eksekutif tinggi", description: "Menjadi Eksekutif tinggi, penghasilan kerja naik 50 M.", price: 800000000000, incomeBoost: 50000000000 },
        { id: 20, name: "Astronot", description: "Menjadi astronot, penghasilan kerja naik 100 M.", price: 1000000000000, incomeBoost: 100000000000 },
    ];

    const moneyAmountEl = document.getElementById('money-amount');
    const workBtn = document.getElementById('work-btn');
    const resetBtn = document.getElementById('reset-btn');
    const upgradeBtn = document.getElementById('upgrade-btn');
    const assetsBtn = document.getElementById('assets-btn');
    const itemListEl = document.getElementById('item-list');
    const moneyEffectContainer = document.getElementById('money-effect-container');
    // Upgrade Modal elements
    const upgradeModal = document.getElementById('upgrade-modal');
    const upgradeListEl = document.getElementById('upgrade-list');
    const modalCloseBtn = document.querySelector('.modal .close-btn');

    // Custom Alert elements
    const customAlert = document.getElementById('custom-alert');
    const alertTitle = document.getElementById('alert-title');
    const alertMessage = document.getElementById('alert-message');
    const alertOkBtn = document.getElementById('alert-ok-btn');

    function showAlert(title, message) {
        alertTitle.textContent = title;
        alertMessage.textContent = message;
        customAlert.style.display = 'flex';
    }

    function hideAlert() {
        customAlert.style.display = 'none';
    }

    alertOkBtn.addEventListener('click', hideAlert);
    
    

    function saveGame() {
        localStorage.setItem('playerMoney', playerMoney);
        localStorage.setItem('workIncome', workIncome);
        localStorage.setItem('purchasedItems', JSON.stringify(purchasedItems));
        localStorage.setItem('purchasedUpgrades', JSON.stringify(purchasedUpgrades));
    }

      function loadGame() {
        const savedMoney = localStorage.getItem('playerMoney');
        const savedIncome = localStorage.getItem('workIncome');
        const savedPurchasedItems = localStorage.getItem('purchasedItems');
        const savedPurchasedUpgrades = localStorage.getItem('purchasedUpgrades');

        // Mengubah logika inisialisasi playerMoney
        if (savedMoney !== null) {
            playerMoney = parseInt(savedMoney);
        } else {
            // Jika tidak ada data, mulai dengan nilai awal 1000000
            playerMoney = 0;
        }

        if (savedIncome !== null) {
            workIncome = parseInt(savedIncome);
        }
        if (savedPurchasedItems !== null) {
            purchasedItems = JSON.parse(savedPurchasedItems);
        }
        if (savedPurchasedUpgrades !== null) {
            purchasedUpgrades = JSON.parse(savedPurchasedUpgrades);
        }
        
        updateDisplay();
        renderItems();
        updateWorkButton();
        checkGameEnd();
    }

    function updateDisplay() {
        moneyAmountEl.textContent = `Rp ${playerMoney.toLocaleString('id-ID')}`;
    }

    function updateWorkButton() {
        workBtn.textContent = `Kerja (+Rp ${workIncome.toLocaleString('id-ID')})`;
    }

   function work() {
    playerMoney += workIncome;
    updateDisplay();
    saveGame();

    // Panggil fungsi untuk membuat efek visual
    createMoneyEffect();
}

function createMoneyEffect() {
    // Buat satu partikel uang
    const particle = document.createElement('span');
    particle.textContent = `+${workIncome.toLocaleString('id-ID')}`; // Tampilkan seluruh penghasilan
    particle.className = 'money-particle';

    // Atur posisi partikel secara acak di sekitar tombol
    const randomX = Math.floor(Math.random() * 80) - 40;
    const randomY = Math.floor(Math.random() * 60) - 30;

    particle.style.left = `calc(50% + ${randomX}px)`;
    particle.style.top = `calc(50% + ${randomY}px)`;

    // Tambahkan ke container
    moneyEffectContainer.appendChild(particle);

    // Hapus partikel setelah animasinya selesai
    setTimeout(() => {
        particle.remove();
    }, 1000);
}

    function checkGameEnd() {
        if (purchasedItems.length === items.length) {
            endGame();
        }
    }

    function buyItem(item) {
        if (purchasedItems.includes(item.id)) {
            showAlert("Sudah Dibeli!", "Anda sudah memiliki item ini.");
            return;
        }

        if (playerMoney >= item.price) {
            playerMoney -= item.price;
            purchasedItems.push(item.id);
            updateDisplay();
            saveGame();
            showAlert("Berhasil!", `Anda berhasil membeli ${item.name}!`);
            renderItems();
            checkGameEnd();
        } else {
            showAlert("Uang Tidak Cukup!", `Uang Anda tidak cukup untuk membeli ${item.name}!`);
        }
    }

    function buyUpgrade(upgrade) {
        if (purchasedUpgrades.includes(upgrade.id)) {
            showAlert("Sudah Dibeli!", "Anda sudah memiliki upgrade ini.");
            return;
        }

        if (playerMoney >= upgrade.price) {
            playerMoney -= upgrade.price;
            workIncome += upgrade.incomeBoost;
            purchasedUpgrades.push(upgrade.id);
            updateDisplay();
            updateWorkButton();
            saveGame();
            showAlert("Upgrade Berhasil!", `Penghasilan kerja Anda naik menjadi +Rp ${workIncome.toLocaleString('id-ID')}!`);
            renderUpgrades();
        } else {
            showAlert("Uang Tidak Cukup!", `Uang Anda tidak cukup untuk membeli ${upgrade.name}!`);
        }
    }

    function endGame() {
        workBtn.disabled = true;
        showAlert("Selamat!", "üéâ Anda berhasil membeli semua barang! Game selesai.");
    }

    function resetGame() {
        localStorage.clear();
        playerMoney = 0; // Ubah ke 0 untuk tantangan baru
        workIncome = 100;
        purchasedItems = [];
        purchasedUpgrades = [];
        updateDisplay();
        workBtn.disabled = false;
        updateWorkButton();
        renderItems();
        showAlert("Game Diulang!", "Permainan telah diulang. Mulai petualangan baru!");
    }
    
    function renderItems() {
    itemListEl.innerHTML = '';
    items.forEach(item => {
        const itemCard = document.createElement('div');
        const isPurchased = purchasedItems.includes(item.id);
        itemCard.className = `item-card ${isPurchased ? 'purchased' : ''}`;
        
        itemCard.innerHTML = `
            <img src="${item.image}" alt="${item.name}" class="item-image" />
            <div class="item-info">
                <h3>${item.name}</h3>
                <p>${item.description}</p>
            </div>
            <div class="price">Harga: Rp ${item.price.toLocaleString('id-ID')}</div>
            <button class="buy-btn" ${isPurchased ? 'disabled' : ''}>${isPurchased ? 'Sudah Dibeli' : 'Beli'}</button>
        `;
        
        const buyBtn = itemCard.querySelector('.buy-btn');
        buyBtn.addEventListener('click', () => buyItem(item));
        
        itemListEl.appendChild(itemCard);
    });
}

    function renderUpgrades() {
        upgradeListEl.innerHTML = '';
        upgrades.forEach(upgrade => {
            const upgradeItem = document.createElement('li');
            const isPurchased = purchasedUpgrades.includes(upgrade.id);
            upgradeItem.className = 'upgrade-item';
            
            upgradeItem.innerHTML = `
                <div class="upgrade-info">
                    <h4>${upgrade.name}</h4>
                    <p>${upgrade.description}</p>
                    <p>Harga: Rp ${upgrade.price.toLocaleString('id-ID')}</p>
                </div>
                <button class="upgrade-buy-btn" ${isPurchased ? 'disabled' : ''}>
                    ${isPurchased ? 'Dibeli' : `Beli`}
                </button>
            `;
            
            const buyBtn = upgradeItem.querySelector('.upgrade-buy-btn');
            buyBtn.addEventListener('click', () => buyUpgrade(upgrade));
            
            upgradeListEl.appendChild(upgradeItem);
        });
    }

    // Event Listeners
    workBtn.addEventListener('click', work);
    resetBtn.addEventListener('click', resetGame);

    upgradeBtn.addEventListener('click', () => {
        renderUpgrades();
        upgradeModal.style.display = 'block';
    });

    modalCloseBtn.addEventListener('click', () => {
        upgradeModal.style.display = 'none';
    });

    window.addEventListener('click', (event) => {
        if (event.target == upgradeModal) {
            upgradeModal.style.display = 'none';
        }
    });

   assetsBtn.addEventListener('click', () => {
        saveGame(); // PENTING: Simpan data sebelum pindah halaman
        window.location.href = 'assets.html';
    });

    // Initial load
    loadGame();

    
</script>

</body>
</html>